---
layout: article
title: "프런트엔드 개발자가 알아야하는 CORS"
date: 2019-01-23 18:00:32 +0900
categories: web-development
# description: "웹 통신 프로토콜인 URL, HTTP, SMTP, MIME, FTP 을 정리"
excerpt: "웹 프로토콜 HTTP, SMTP, MIME, FTP 와 URL"
image:
  teaser: posts/web/http.png
  credit: Ibrahim #name of the person or site you want to credit
  creditlink: https://ibrahimabdelkareem.wordpress.com/2016/12/16/building-n-tier-restful-api-using-asp-net-web-api-2-part-2-more-about-http-protocol/
  #url to their site or licensing
locale: "ko_KR"
# 리플 옵션
comments: true
tags:
- cors
- cors 해결
- cors ajax
- cors 우회
- 웹 개발자
- 웹 개발자를 위한
- 웹 개발자를 위한 웹 프로토콜
- 웹 프로토콜
- HTTP
- MIME
- SMTP
- URL
---
{% include toc.html %}

## 들어가며

요즘의 웹 애플리케이션은 높은 사용자 경험과 수려한 UI를 제공하지 않으면 사용자의 눈높이를 맞추기가 어렵습니다. 이에 따라 풍부한 사용자 경험을 제공하기 위해서 프런트엔드 프레임워크와 프런트엔드 빌드 시스템을 사용할 일이 잦아졌는데요. 리액트, 뷰, 앵귤러와 같은 프런트엔드 프레임워크를 쓰면서 자연스럽게 웹팩 데브 서버를 사용하게 됩니다. 기존에는 웹 개발을 한 서버에서 했다면 이제는 프런트엔드 개발을 위한 서버 1대와 백엔드 개발을 위한 서버 1대 즉 2대의 서버로 개발을 하는 상황이 발생하는 것이죠. 그러면서 프런트엔드 서버에서 백엔드 서버의 리소스를 접근할 때 CORS 문제가 발생합니다. 이 브라우저 동작에 대해 익숙하지 않은 프런트엔드는 백엔드를, 백엔드는 프런트엔드를 탓할 겁니다.

이 글이 아직 CORS에 익숙하지 않은 분들에게 도움이 되었으면 좋겠습니다. 서로의 영역을 존중하고 서비스 개발에 더 집중할 수 있길 바라며..

## CORS란?

CORS(Cross Origin Resource Sharing)는 브라우저 보안상 서로 다른 도메인에서의 데이터 요청을 막는 브라우저의 기본 동작입니다. CORS가 가장 빈번하게 발생하는 경우는 프런트엔드 서버에서 백엔드 서버로 API 호출을 하는 경우입니다. 일반적으로 현대 웹에서는 데이터를 불러오기 위해 아래와 같이 ajax를 호출합니다.

```js
$.get('localhost:9090/users');
```

여기서 만약 웹 개발을 위해 서버 1대에서 프런트엔드 코드와 백엔드 코드를 모두 실행하고 있다고 하면 문제가 되지 않지만 아래와 같이 프런트엔드 코드는 로컬 서버 8080 포트에서 실행 중이고, 백엔드 API 코드는 로컬 서버 9090 포트에 실행 중이라면 아래와 같은 오류 메시지가 출력될 것입니다.

![cors 오류 메시지]()

이 메시지는 왜 발생하는 것일까요?

## CORS의 기본 동작

CORS는 브라우저의 보안 정책에 따라 같은 도메인 내에서의 HTTP 요청만 허용합니다. 다른 도메인에서 HTTP 요청이 오는 경우 이걸 자동으로 막습니다. 그리고 다른 도메인에서 HTTP 요청이 오는 경우 접근이 가능한지 예비 요청을 하나 보내죠. 이게 바로 preflight 요청입니다.

그림으로 보겠습니다.

![allow-access-origin](/Users/gihyojoshuajang/Documents/Programming/joshua1988.github.io/images/posts/web/javascript/cors/preflight_.png)

위 그림은 ~~ ㄴㄴㄴㄴ

## CORS 해결 방법

## 주의 사항 (API 도구에서 돌아간다고 브라우저에서 제대로 돌아가란 법은 없습니다)
